using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace C_Malware_Scanner
{
    class countfiles
    {
        int count { get; set; }
        //The code for listing the files in a directory was taken from the link below
        //http://stackoverflow.com/questions/929276/how-to-recursively-list-all-the-files-in-a-directory-in-c
        private void countFilesInDir(string sDir)
        {
            count = count + System.IO.Directory.GetFiles(sDir).Length;
            //foreach directory inside of the diectory selected count the number of files and add it to the count variable
            foreach (string d in System.IO.Directory.GetDirectories(sDir))
            {
                count = count + System.IO.Directory.GetFiles(d).Length;
                countFilesInDir(d);
            }
        }
        //public function to return the number of files in a given directory
        public int countFiles(string sDir)
        {
            //call the countFilesInDir function from above, return the variable count
            countFilesInDir(sDir);
            return count;
        }
    }
}
